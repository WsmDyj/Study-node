(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08abea28"],{1033:function(t,a,e){},"14c7":function(t,a,e){},"4de4":function(t,a,e){"use strict";var n=e("23e7"),i=e("b727").filter,s=e("1dde");n({target:"Array",proto:!0,forced:!s("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4fcd":function(t,a,e){},"5cc8":function(t,a,e){},"61c2":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("Header"),e("div",{staticClass:"main"},[e("Setting")],1)],1)},i=[],s=e("9f12"),r=e("8b83"),c=e("c65a"),o=e("c03e"),u=e("9ab4"),l=e("60a3"),v=e("e725"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"setting"},[e("div",{staticClass:"setting-profile"},[e("h1",[t._v("个人资料")]),e("div",{staticClass:"setting-list"},[e("setting-item",{attrs:{title:"avatar"}},[e("div",{staticClass:"box",attrs:{slot:"avatar"},slot:"avatar"},[e("el-avatar",{attrs:{fit:"cover",size:62,shape:"square",src:t.imgUrl}}),e("div",{staticClass:"box-button"},[e("div",{staticClass:"box-toolitp"},[t._v("支持jpg、png格式，大小且不超过2M")]),e("upload-avatar",{on:{upload:t.handleUpload}})],1)],1)]),e("setting-item",{attrs:{title:"nickname",info:t.filters.nickname},on:{updateInfo:t.confirm}}),e("setting-item",{attrs:{title:"job",info:t.filters.job},on:{updateInfo:t.confirm}}),e("setting-item",{attrs:{title:"company",info:t.filters.company},on:{updateInfo:t.confirm}}),e("setting-item",{attrs:{title:"autograph",info:t.filters.autograph},on:{updateInfo:t.confirm}})],1)])])},p=[],d=(e("96cf"),e("89ba")),m=e("53fe"),h=e("9dba"),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"setting-item"},[e("div",{staticClass:"title"},[t._v(t._s(t.header))]),t._t("avatar"),"avatar"!==t.title?e("div",{staticClass:"action-box"},[e("div",{staticClass:"center"},[e("el-input",{attrs:{autofocus:t.show},on:{focus:function(a){t.show=!0},blur:t.blur},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1),t.show?e("div",{staticClass:"agree action-button"},[e("span",{staticClass:"confirm",on:{click:function(a){return a.stopPropagation(),t.confirm(a)}}},[t._v("保存")]),e("span",{staticClass:"cancel",on:{click:function(a){a.stopPropagation(),t.show=!1}}},[t._v("取消")])]):e("div",{staticClass:"edit action-button",on:{click:function(a){t.show=!0}}},[e("i",{staticClass:"el-icon-edit"}),e("span",[t._v("修改")])])]):t._e()],2)},g=[],k=(e("4de4"),[{label:"头像",value:"avatar"},{label:"姓名",value:"nickname"},{label:"职业",value:"job"},{label:"公司",value:"company"},{label:"个人介绍",value:"autograph"}]),y=function(t){function a(){var t;return Object(s["a"])(this,a),t=Object(r["a"])(this,Object(c["a"])(a).apply(this,arguments)),t.show=!1,t.value="",t}return Object(o["a"])(a,t),Object(m["a"])(a,[{key:"watchInfo",value:function(t){this.value=t}},{key:"blur",value:function(){this.info===this.value&&(this.show=!1)}},{key:"confirm",value:function(){this.show=!1;var t={};return t[this.title]=this.value,t}},{key:"header",get:function(){var t=this,a=k.filter((function(a){return a.value===t.title}));return a[0].label}}]),a}(l["d"]);u["a"]([Object(l["c"])()],y.prototype,"title",void 0),u["a"]([Object(l["c"])()],y.prototype,"info",void 0),u["a"]([Object(l["e"])("info",{immediate:!0})],y.prototype,"watchInfo",null),u["a"]([Object(l["b"])("updateInfo")],y.prototype,"confirm",null),y=u["a"]([l["a"]],y);var j=y,C=j,O=(e("9912"),e("2877")),_=Object(O["a"])(C,b,g,!1,null,null,null),w=_.exports,x=e("ae5f"),I=e("ea9b"),B={avatar:"",autograph:"",company:"",job:"",nickname:""},$=function(t){function a(){var t;return Object(s["a"])(this,a),t=Object(r["a"])(this,Object(c["a"])(a).apply(this,arguments)),t.filters=B,t.imgUrl="",t}return Object(o["a"])(a,t),Object(m["a"])(a,[{key:"created",value:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getUser();case 1:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()},{key:"getUser",value:function(){this.imgUrl=this.avatar,this.filters={autograph:this.autograph,company:this.company,job:this.job,avatar:this.avatar,nickname:this.nickname}}},{key:"handleUpload",value:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.imgUrl=a,this.filters.avatar=a,t.next=4,Object(I["g"])(this.filters);case 4:return t.next=6,h["a"].GetUserInfo();case 6:this.$message({message:"头像上传成功",type:"success"});case 7:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"confirm",value:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object.assign(this.filters,a),t.next=3,Object(I["g"])(e);case 3:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()},{key:"nickname",get:function(){return h["a"].nickname}},{key:"autograph",get:function(){return h["a"].autograph}},{key:"avatar",get:function(){return h["a"].avatar}},{key:"job",get:function(){return h["a"].job}},{key:"company",get:function(){return h["a"].company}}]),a}(l["d"]);$=u["a"]([Object(l["a"])({components:{settingItem:w,uploadAvatar:x["a"]}})],$);var R=$,E=R,U=(e("afe6"),Object(O["a"])(E,f,p,!1,null,"b762a976",null)),L=U.exports,q=function(t){function a(){return Object(s["a"])(this,a),Object(r["a"])(this,Object(c["a"])(a).apply(this,arguments))}return Object(o["a"])(a,t),a}(l["d"]);q=u["a"]([Object(l["a"])({name:"settings",components:{Header:v["a"],Setting:L}})],q);var z=q,A=z,M=(e("ae67"),Object(O["a"])(A,n,i,!1,null,"c4be4802",null));a["default"]=M.exports},"6c30":function(t,a,e){},"70d2":function(t,a,e){"use strict";var n=e("14c7"),i=e.n(n);i.a},9912:function(t,a,e){"use strict";var n=e("1033"),i=e.n(n);i.a},ae5f:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{"auto-upload":!1,multiple:"","file-list":t.imgBroadcastList,action:"","on-change":t.imgBroadcastChange,"on-error":t.handleAvatarError,"show-file-list":!1}},[e("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传")])],1)],1)},i=[],s=(e("4de4"),e("96cf"),e("89ba")),r=e("9f12"),c=e("53fe"),o=e("8b83"),u=e("c65a"),l=e("c03e"),v=e("9ab4"),f=e("60a3");e("d3b7");function p(t){return new Promise((function(a,e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){a(n)},n.onerror=e}))}var d=function(t){function a(){var t;return Object(r["a"])(this,a),t=Object(o["a"])(this,Object(u["a"])(a).apply(this,arguments)),t.imgBroadcastList=[],t}return Object(l["a"])(a,t),Object(c["a"])(a,[{key:"imgBroadcastChange",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a,e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.imgBroadcastList=[],n=a.size/1024/1024<2,n?this.imgBroadcastList.push(a):(this.imgBroadcastList=e.filter((function(t){return t.uid!==a.uid})),this.$message.error("图片选择失败，每张图片大小不能超过 2MB,请重新选择!")),t.next=5,p(this.imgBroadcastList[0].raw);case 5:return i=t.sent,t.abrupt("return",i.result);case 7:case"end":return t.stop()}}),t,this)})));function a(a,e){return t.apply(this,arguments)}return a}()},{key:"handleAvatarError",value:function(){this.$message.error("上传头像失败")}}]),a}(f["d"]);v["a"]([Object(f["b"])("upload")],d.prototype,"imgBroadcastChange",null),d=v["a"]([Object(f["a"])({})],d);var m=d,h=m,b=e("2877"),g=Object(b["a"])(h,n,i,!1,null,null,null);a["a"]=g.exports},ae67:function(t,a,e){"use strict";var n=e("5cc8"),i=e.n(n);i.a},afe6:function(t,a,e){"use strict";var n=e("d12b"),i=e.n(n);i.a},b046:function(t,a,e){"use strict";var n=e("6c30"),i=e.n(n);i.a},c3a1:function(t,a,e){t.exports=e.p+"img/qihang.979b8732.jpg"},d12b:function(t,a,e){},d555:function(t,a,e){"use strict";var n=e("4fcd"),i=e.n(n);i.a},e725:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{class:t.visible?"header visible":"header"},[n("div",{staticClass:"navigation"},[n("router-link",{attrs:{to:"/"}},[n("el-image",{staticClass:"logo",attrs:{fit:"fill",src:e("c3a1")}})],1),n("div",{staticClass:"content"},[n("Nav"),n("div",{staticClass:"nav-list"},[n("div",{staticClass:"search"},[n("el-input",{attrs:{size:"small",placeholder:"搜索文章或用户"},on:{focus:function(a){t.inputIcon=!0},blur:function(a){t.inputIcon=!1}},model:{value:t.keyword,callback:function(a){t.keyword=a},expression:"keyword"}}),n("router-link",{staticClass:"search-icon",style:{color:t.inputIcon?"#007fff":"#71777c"},attrs:{target:"_blank",to:{path:"/search",query:{keyword:t.keyword}}}},[n("i",{staticClass:"el-icon-search"})])],1),t.visivle?n("div",{staticClass:"nav-list"},[n("div",{staticClass:"nav-item header-button"},[n("router-link",{attrs:{to:"/markdown"}},[n("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("写文章")])],1)],1),n("div",{staticClass:"nav-item notice"},[n("el-badge",{staticClass:"item",attrs:{type:"primary"}},[n("i",{staticClass:"iconfont notice-icon"},[t._v("")])])],1),n("el-popover",{staticClass:"nav-item auth",attrs:{trigger:"click",width:"150"}},[n("Dropdown"),n("el-avatar",{attrs:{slot:"reference",size:"medium",src:t.avatar},slot:"reference"})],1)],1):n("div",{staticClass:"nav-list"},[n("div",{staticClass:"nav-item submit",on:{click:function(a){return t.submit("login")}}},[n("i",{staticClass:"el-icon-edit"}),n("span",[t._v("写文章")])]),n("div",{staticClass:"nav-item auth"},[n("span",{staticClass:"login",on:{click:function(a){return t.submit("login")}}},[t._v("登录")]),n("span",{staticClass:"register",on:{click:function(a){return t.submit("register")}}},[t._v("注册")])])])])],1)],1)])},i=[],s=e("9f12"),r=e("53fe"),c=e("8b83"),o=e("c65a"),u=e("c03e"),l=e("9ab4"),v=e("60a3"),f=e("9dba"),p=e("ec7f"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav-content"},t._l(t.navs,(function(a,n){return e("li",{key:n,staticClass:"nav-item"},[e("router-link",{attrs:{"active-class":"active",to:a.path}},[t._v(" "+t._s(a.name)+" ")])],1)})),0)},m=[],h=function(t){function a(){var t;return Object(s["a"])(this,a),t=Object(c["a"])(this,Object(o["a"])(a).apply(this,arguments)),t.navs=[{id:0,name:"首页",path:"/"},{id:1,name:"等你来答",path:"/questions"},{id:3,name:"发现",path:"/share"}],t}return Object(u["a"])(a,t),a}(v["d"]);h=l["a"]([v["a"]],h);var b=h,g=b,k=(e("70d2"),e("2877")),y=Object(k["a"])(g,d,m,!1,null,"bae4541e",null),j=y.exports,C=function(t){function a(){var t;return Object(s["a"])(this,a),t=Object(c["a"])(this,Object(o["a"])(a).apply(this,arguments)),t.keyword="",t.inputIcon=!1,t}return Object(u["a"])(a,t),Object(r["a"])(a,[{key:"submit",value:function(t){f["a"].handleIslogin(!0),f["a"].handleLoggedType(t)}},{key:"created",value:function(){this.keyword=this.$route.query.keyword||""}},{key:"avatar",get:function(){return f["a"].avatar}},{key:"visivle",get:function(){return!!f["a"].token}}]),a}(v["d"]);l["a"]([Object(v["c"])({default:!0})],C.prototype,"visible",void 0),C=l["a"]([Object(v["a"])({components:{Dropdown:p["a"],Nav:j}})],C);var O=C,_=O,w=(e("d555"),Object(k["a"])(_,n,i,!1,null,"1b38442e",null));a["a"]=w.exports},ec7f:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav-menu"},[e("div",{staticClass:"nav-menu-group"},[e("router-link",{staticClass:"nav-menu-item",attrs:{target:"_blank",to:"/markdown"}},[e("i",{staticClass:"el-icon-edit item-icon"}),e("span",{staticClass:"item-text"},[t._v("写文章")])]),t._m(0)],1),e("div",{staticClass:"nav-menu-group"},[e("router-link",{staticClass:"nav-menu-item",attrs:{target:"_blank",to:{path:"/author",query:{activeIndex:"1",author:t.nickname}}}},[e("span",{staticClass:"el-icon-user-solid"}),e("span",{staticClass:"item-text"},[t._v("我的主页")])]),e("router-link",{staticClass:"nav-menu-item",attrs:{target:"_blank",to:{path:"/author",query:{activeIndex:"2",author:t.nickname}}}},[e("i",{staticClass:"iconfont item-icon"},[t._v("")]),e("span",{staticClass:"item-text"},[t._v("我赞过的")])]),e("router-link",{staticClass:"nav-menu-item",attrs:{tag:"div",to:"/settings"}},[e("span",{staticClass:"el-icon-s-tools"}),e("span",{staticClass:"item-text"},[t._v("设置")])])],1),e("div",{staticClass:"nav-menu-group"},[e("div",{staticClass:"nav-menu-item",on:{click:t.loginOut}},[e("i",{staticClass:"iconfont item-icon"},[t._v("")]),e("span",{staticClass:"item-text"},[t._v("登出")])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav-menu-item"},[e("i",{staticClass:"el-icon-s-goods item-icon"}),e("span",{staticClass:"item-text"},[t._v("草稿")])])}],s=e("9f12"),r=e("53fe"),c=e("8b83"),o=e("c65a"),u=e("c03e"),l=e("60a3"),v=e("5c96"),f=e("9dba"),p=function(t){function a(){return Object(s["a"])(this,a),Object(c["a"])(this,Object(o["a"])(a).apply(this,arguments))}return Object(u["a"])(a,t),Object(r["a"])(a,[{key:"loginOut",value:function(){v["MessageBox"].confirm("确定登出吗？每一片贫瘠的土地都需要坚定的挖掘者","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){f["a"].ResetToken(),Object(v["Message"])({type:"success",message:"退出登录成功!"})})).catch((function(){Object(v["Message"])({type:"info",message:"已取消退出登录"})}))}},{key:"nickname",get:function(){return f["a"].nickname}}]),a}(l["d"]),d=p,m=(e("b046"),e("2877")),h=Object(m["a"])(d,n,i,!1,null,"2f5ab271",null);a["a"]=h.exports}}]);