(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb425976"],{"18f5":function(t,e,a){"use strict";var n=a("dc04"),r=a.n(n);r.a},"2fee":function(t,e,a){"use strict";var n=a("458f"),r=a.n(n);r.a},3953:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"auto-upload":!1,multiple:"","file-list":t.imgBroadcastList,action:"","on-change":t.imgBroadcastChange,"on-error":t.handleAvatarError,"show-file-list":!1}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("点击上传")])],1)],1)},r=[],i=(a("4de4"),a("96cf"),a("89ba")),s=a("9f12"),o=a("53fe"),c=a("8b83"),u=a("c65a"),l=a("c03e"),f=a("9ab4"),p=a("60a3");a("d3b7");function v(t){return new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e(n)},n.onerror=a}))}var h=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.imgBroadcastList=[],t}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"imgBroadcastChange",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.imgBroadcastList=[],n=e.size/1024/1024<2,n?this.imgBroadcastList.push(e):(this.imgBroadcastList=a.filter((function(t){return t.uid!==e.uid})),this.$message.error("图片选择失败，每张图片大小不能超过 2MB,请重新选择!")),t.next=5,v(this.imgBroadcastList[0].raw);case 5:return r=t.sent,t.abrupt("return",r.result);case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleAvatarError",value:function(){this.$message.error("上传头像失败")}}]),e}(p["d"]);f["a"]([Object(p["b"])("upload")],h.prototype,"imgBroadcastChange",null),h=f["a"]([Object(p["a"])({})],h);var b=h,d=b,m=a("2877"),g=Object(m["a"])(d,n,r,!1,null,null,null);e["a"]=g.exports},"458f":function(t,e,a){},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde");n({target:"Array",proto:!0,forced:!i("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"61c2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("Header"),a("div",{staticClass:"main mg-top-80"},[a("Setting")],1)],1)},r=[],i=a("9f12"),s=a("8b83"),o=a("c65a"),c=a("c03e"),u=a("9ab4"),l=a("60a3"),f=a("e725"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section"},[a("div",{staticClass:"setting-profile"},[a("h1",[t._v("个人资料")]),a("div",{staticClass:"setting-list"},[a("setting-item",{attrs:{title:"avatar"}},[a("div",{staticClass:"box",attrs:{slot:"avatar"},slot:"avatar"},[a("el-avatar",{attrs:{fit:"cover",size:62,shape:"square",src:t.imgUrl}}),a("div",{staticClass:"box-button"},[a("div",{staticClass:"box-toolitp"},[t._v("支持jpg、png格式，大小且不超过2M")]),a("upload-avatar",{on:{upload:t.handleUpload}})],1)],1)]),a("setting-item",{attrs:{title:"nickname",info:t.filters.nickname},on:{updateInfo:t.confirm}}),a("setting-item",{attrs:{title:"job",info:t.filters.job},on:{updateInfo:t.confirm}}),a("setting-item",{attrs:{title:"company",info:t.filters.company},on:{updateInfo:t.confirm}}),a("setting-item",{attrs:{title:"autograph",info:t.filters.autograph},on:{updateInfo:t.confirm}})],1)])])},v=[],h=(a("96cf"),a("89ba")),b=a("53fe"),d=a("9dba"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-item"},[a("div",{staticClass:"title"},[t._v(t._s(t.header))]),t._t("avatar"),"avatar"!==t.title?a("div",{staticClass:"action-box"},[a("div",{staticClass:"center"},[a("el-input",{attrs:{autofocus:t.show},on:{focus:function(e){t.show=!0},blur:t.blur},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.show?a("div",{staticClass:"agree action-button"},[a("span",{staticClass:"confirm",on:{click:function(e){return e.stopPropagation(),t.confirm(e)}}},[t._v("保存")]),a("span",{staticClass:"cancel",on:{click:function(e){e.stopPropagation(),t.show=!1}}},[t._v("取消")])]):a("div",{staticClass:"edit action-button",on:{click:function(e){t.show=!0}}},[a("i",{staticClass:"el-icon-edit"}),a("span",[t._v("修改")])])]):t._e()],2)},g=[],j=(a("4de4"),[{label:"头像",value:"avatar"},{label:"姓名",value:"nickname"},{label:"职业",value:"job"},{label:"公司",value:"company"},{label:"个人介绍",value:"autograph"}]),y=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.show=!1,t.value="",t}return Object(c["a"])(e,t),Object(b["a"])(e,[{key:"watchInfo",value:function(t){this.value=t}},{key:"blur",value:function(){this.info===this.value&&(this.show=!1)}},{key:"confirm",value:function(){this.show=!1;var t={};return t[this.title]=this.value,t}},{key:"header",get:function(){var t=this,e=j.filter((function(e){return e.value===t.title}));return e[0].label}}]),e}(l["d"]);u["a"]([Object(l["c"])()],y.prototype,"title",void 0),u["a"]([Object(l["c"])()],y.prototype,"info",void 0),u["a"]([Object(l["e"])("info",{immediate:!0})],y.prototype,"watchInfo",null),u["a"]([Object(l["b"])("updateInfo")],y.prototype,"confirm",null),y=u["a"]([l["a"]],y);var O=y,k=O,w=(a("18f5"),a("2877")),C=Object(w["a"])(k,m,g,!1,null,null,null),_=C.exports,x=a("3953"),B=a("ea9b"),R={avatar:"",autograph:"",company:"",job:"",nickname:""},U=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.filters=R,t.imgUrl="",t}return Object(c["a"])(e,t),Object(b["a"])(e,[{key:"created",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getUser();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getUser",value:function(){this.imgUrl=this.avatar,this.filters={autograph:this.autograph,company:this.company,job:this.job,avatar:this.avatar,nickname:this.nickname}}},{key:"handleUpload",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.imgUrl=e,this.filters.avatar=e,t.next=4,Object(B["g"])(this.filters);case 4:return t.next=6,d["a"].GetUserInfo();case 6:this.$message({message:"头像上传成功",type:"success"});case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"confirm",value:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign(this.filters,e),t.next=3,Object(B["g"])(a);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"nickname",get:function(){return d["a"].nickname}},{key:"autograph",get:function(){return d["a"].autograph}},{key:"avatar",get:function(){return d["a"].avatar}},{key:"job",get:function(){return d["a"].job}},{key:"company",get:function(){return d["a"].company}}]),e}(l["d"]);U=u["a"]([Object(l["a"])({components:{settingItem:_,uploadAvatar:x["a"]}})],U);var I=U,L=I,$=(a("2fee"),Object(w["a"])(L,p,v,!1,null,"eb8d1b4c",null)),E=$.exports,A=function(t){function e(){return Object(i["a"])(this,e),Object(s["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),e}(l["d"]);A=u["a"]([Object(l["a"])({name:"settings",components:{Header:f["a"],Setting:E}})],A);var z=A,P=z,H=Object(w["a"])(P,n,r,!1,null,null,null);e["default"]=H.exports},dc04:function(t,e,a){}}]);